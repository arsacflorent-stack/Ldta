import streamlit as st

st.set_page_config(page_title="LDTA ERJ-145", layout="centered")
st.title("LDTA – Embraer 145")
st.write("Calculateur basé sur le GP-7924. Version en cours de construction.")

# --- Tables LDTA (à compléter progressivement) ---
tables = {
    ("CAT I","TR","FLAP 22","NO ICE"): { ... },
    ("CAT I","NO TR","FLAP 22","NO ICE"): { ... },
    ("CAT I","TR","FLAP 22","ICE"): { ... },
    ("CAT I","NO TR","FLAP 22","ICE"): { ... }

    ("CAT I","TR","FLAP 22","NO ICE"): {
        6: {"REF":1068,"WEIGHT":{"below":-45,"above":47},"ALT":32,
            "TEMP":{"belowISA":-9,"aboveISA":25},
            "WIND":{"head":-21,"tail":112},
            "SLOPE":{"up":-6,"down":178},
            "VAP":119,"REV":142,"OVERWEIGHT":{"per1000kg":92}},
        5: {"REF":1230,"WEIGHT":{"below":-57,"above":59},"ALT":44,
            "TEMP":{"belowISA":-12,"aboveISA":39},
            "WIND":{"head":-26,"tail":165},
            "SLOPE":{"up":-8,"down":217},
            "VAP":140,"REV":535,"OVERWEIGHT":{"per1000kg":92}},
        4: {"REF":1347,"WEIGHT":{"below":-58,"above":58},"ALT":43,
            "TEMP":{"belowISA":-14,"aboveISA":36},
            "WIND":{"head":-29,"tail":145},
            "SLOPE":{"up":-13,"down":221},
            "VAP":126,"REV":544,"OVERWEIGHT":{"per1000kg":92}},
        3: {"REF":1616,"WEIGHT":{"below":-70,"above":71},"ALT":47,
            "TEMP":{"belowISA":-16,"aboveISA":41},
            "WIND":{"head":-37,"tail":186},
            "SLOPE":{"up":-19,"down":273},
            "VAP":142,"REV":663,"OVERWEIGHT":{"per1000kg":92}},
        2: {"REF":2269,"WEIGHT":{"below":-97,"above":98},"ALT":59,
            "TEMP":{"belowISA":-22,"aboveISA":52},
            "WIND":{"head":-55,"tail":276},
            "SLOPE":{"up":-29,"down":420},
            "VAP":198,"REV":970,"OVERWEIGHT":{"per1000kg":92}},
        1: {"REF":3519,"WEIGHT":{"below":-150,"above":151},"ALT":91,
            "TEMP":{"belowISA":-36,"aboveISA":80},
            "WIND":{"head":-96,"tail":492},
            "SLOPE":{"up":-58,"down":769},
            "VAP":344,"REV":1706,"OVERWEIGHT":{"per1000kg":92}},
    }
} ,
    ("CAT I","NO TR","FLAP 22","NO ICE"): {
        6: {"REF":1159,"WEIGHT":{"below":-49,"above":53},"ALT":34,
            "TEMP":{"belowISA":-11,"aboveISA":26},
            "WIND":{"head":-24,"tail":127},
            "SLOPE":{"up":-9,"down":192},
            "VAP":148,"REV":None,"OVERWEIGHT":{"per1000kg":149}},
        5: {"REF":1711,"WEIGHT":{"below":-68,"above":69},"ALT":47,
            "TEMP":{"belowISA":-20,"aboveISA":36},
            "WIND":{"head":-40,"tail":205},
            "SLOPE":{"up":-34,"down":307},
            "VAP":234,"REV":None,"OVERWEIGHT":{"per1000kg":149}},
        4: {"REF":1873,"WEIGHT":{"below":-74,"above":75},"ALT":49,
            "TEMP":{"belowISA":-22,"aboveISA":37},
            "WIND":{"head":-45,"tail":229},
            "SLOPE":{"up":-41,"down":328},
            "VAP":240,"REV":None,"OVERWEIGHT":{"per1000kg":149}},
        3: {"REF":2247,"WEIGHT":{"below":-90,"above":91},"ALT":54,
            "TEMP":{"belowISA":-26,"aboveISA":41},
            "WIND":{"head":-54,"tail":276},
            "SLOPE":{"up":-56,"down":387},
            "VAP":257,"REV":None,"OVERWEIGHT":{"per1000kg":149}},
        2: {"REF":3130,"WEIGHT":{"below":-125,"above":126},"ALT":70,
            "TEMP":{"belowISA":-36,"aboveISA":54},
            "WIND":{"head":-83,"tail":426},
            "SLOPE":{"up":-87,"down":574},
            "VAP":326,"REV":None,"OVERWEIGHT":{"per1000kg":149}},
        1: {"REF":4839,"WEIGHT":{"below":-199,"above":200},"ALT":111,
            "TEMP":{"belowISA":-58,"aboveISA":86},
            "WIND":{"head":-153,"tail":757},
            "SLOPE":{"up":-180,"down":1077},
            "VAP":547,"REV":None,"OVERWEIGHT":{"per1000kg":149}},
    }, 
        ("CAT I","TR","FLAP 22","ICE"): {
        6: {"REF":1142,"WEIGHT":{"below":-47,"above":49},"ALT":33,
            "TEMP":{"belowISA":-10,"aboveISA":26},
            "WIND":{"head":-22,"tail":117},
            "SLOPE":{"up":-7,"down":184},
            "VAP":127,"REV":197,"OVERWEIGHT":{"per1000kg":114}},
        5: {"REF":1315,"WEIGHT":{"below":-55,"above":56},"ALT":41,
            "TEMP":{"belowISA":-13,"aboveISA":38},
            "WIND":{"head":-27,"tail":163},
            "SLOPE":{"up":-11,"down":227},
            "VAP":152,"REV":485,"OVERWEIGHT":{"per1000kg":114}},
        4: {"REF":1446,"WEIGHT":{"below":-60,"above":61},"ALT":45,
            "TEMP":{"belowISA":-16,"aboveISA":42},
            "WIND":{"head":-32,"tail":189},
            "SLOPE":{"up":-18,"down":264},
            "VAP":160,"REV":621,"OVERWEIGHT":{"per1000kg":114}},
        3: {"REF":1738,"WEIGHT":{"below":-72,"above":73},"ALT":50,
            "TEMP":{"belowISA":-19,"aboveISA":47},
            "WIND":{"head":-42,"tail":236},
            "SLOPE":{"up":-28,"down":348},
            "VAP":184,"REV":789,"OVERWEIGHT":{"per1000kg":114}},
        2: {"REF":2431,"WEIGHT":{"below":-101,"above":102},"ALT":63,
            "TEMP":{"belowISA":-27,"aboveISA":60},
            "WIND":{"head":-64,"tail":351},
            "SLOPE":{"up":-47,"down":524},
            "VAP":264,"REV":1196,"OVERWEIGHT":{"per1000kg":114}},
        1: {"REF":3795,"WEIGHT":{"below":-161,"above":162},"ALT":97,
            "TEMP":{"belowISA":-43,"aboveISA":93},
            "WIND":{"head":-113,"tail":610},
            "SLOPE":{"up":-104,"down":934},
            "VAP":455,"REV":2053,"OVERWEIGHT":{"per1000kg":114}},
    },
        ("CAT I","NO TR","FLAP 22","ICE"): {
        6: {"REF":1239,"WEIGHT":{"below":-52,"above":54},"ALT":36,
            "TEMP":{"belowISA":-12,"aboveISA":28},
            "WIND":{"head":-27,"tail":136},
            "SLOPE":{"up":-11,"down":201},
            "VAP":161,"REV":None,"OVERWEIGHT":{"per1000kg":157}},
        5: {"REF":1832,"WEIGHT":{"below":-72,"above":73},"ALT":49,
            "TEMP":{"belowISA":-21,"aboveISA":41},
            "WIND":{"head":-46,"tail":219},
            "SLOPE":{"up":-37,"down":320},
            "VAP":249,"REV":None,"OVERWEIGHT":{"per1000kg":157}},
        4: {"REF":2012,"WEIGHT":{"below":-79,"above":80},"ALT":52,
            "TEMP":{"belowISA":-24,"aboveISA":45},
            "WIND":{"head":-52,"tail":247},
            "SLOPE":{"up":-44,"down":354},
            "VAP":261,"REV":None,"OVERWEIGHT":{"per1000kg":157}},
        3: {"REF":2416,"WEIGHT":{"below":-96,"above":97},"ALT":57,
            "TEMP":{"belowISA":-28,"aboveISA":50},
            "WIND":{"head":-63,"tail":298},
            "SLOPE":{"up":-59,"down":420},
            "VAP":282,"REV":None,"OVERWEIGHT":{"per1000kg":157}},
        2: {"REF":3387,"WEIGHT":{"below":-137,"above":138},"ALT":75,
            "TEMP":{"belowISA":-40,"aboveISA":66},
            "WIND":{"head":-99,"tail":465},
            "SLOPE":{"up":-93,"down":635},
            "VAP":367,"REV":None,"OVERWEIGHT":{"per1000kg":157}},
        1: {"REF":5228,"WEIGHT":{"below":-214,"above":215},"ALT":117,
            "TEMP":{"belowISA":-65,"aboveISA":101},
            "WIND":{"head":-178,"tail":828},
            "SLOPE":{"up":-192,"down":1197},
            "VAP":619,"REV":None,"OVERWEIGHT":{"per1000kg":157}},
    }